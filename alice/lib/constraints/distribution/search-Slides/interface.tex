\newpsstyle{circle}{linewidth=0.2pt, linestyle=solid, linecolor=black, fillcolor=cyan, fillstyle=solid}
\newpsstyle{arrow}{arrowsize=2mm,linewidth=0.5pt, linestyle=solid, linecolor=black}
\newpsstyle{arrowg}{arrowsize=2mm,linewidth=0.5pt, linestyle=solid, linecolor=gray}

\def\alabel#1#2#3{\rnode{#2}{\psframebox[linewidth=0.2pt, linestyle=solid, framearc=0.5, fillstyle=solid, fillcolor=#3]{\footnotesize #1}}}
\def\ylabel#1#2{\alabel{#1}{#2}{yellow}}
\def\glabel#1#2{\alabel{#1}{#2}{green}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\allinterface{%
\psset{unit=1.25mm}
%
\rput(-32,-6){\includegraphics[height=24mm]{part1.eps}}
\rput(18,-21){\includegraphics[height=24mm]{part2.eps}}
\rput(30,0){\includegraphics[height=24mm]{part3.eps}}
%
\cnodeput[style=circle](0,0){manager}{Manager}
\cnodeput[style=circle](20,-10){worker1}{w}
\cnodeput[style=circle](-30,5){worker2}{w}
\cnodeput[style=circle](30,10){worker3}{w}
\cnodeput[style=circle](-5,20){worker4}{w}
%
\ncline[style=arrow,doubleline=true]{<|-|>}{worker1}{manager}
\ncline[style=arrow,doubleline=true]{<|-|>}{worker2}{manager}
\ncline[style=arrow,doubleline=true]{<|-|>}{worker3}{manager}
\ncline[style=arrow,doubleline=true]{<|-|>}{worker4}{manager}
%
\rput(10,20){Workers}
%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\interfaceA{%
\psset{unit=1.25mm}
%
\cnode[style=circle](-45,-15){5}{worker}
\cnode[style=circle](0,-15){5}{manager}
%
\rput(0,-25){Manager}
\rput(-45,-25){Worker}
%
\rput(-22,-5){\ylabel{register}{register}}
\ncline[style=arrow]{-}{worker}{register}
\ncline[style=arrow]{-|>}{register}{manager}
%
\rput(-22,-15){\glabel{find}{find}}
\ncline[style=arrow]{-}{worker}{find}
\ncline[style=arrow]{-|>}{find}{manager}
%
\rput(-22,-25){\glabel{collect}{collect}}
\ncline[style=arrow]{-}{worker}{collect}
\ncline[style=arrow]{-|>}{collect}{manager}
}

\def\interfaceB{%
\psset{unit=1.25mm}
%
\cnode[style=circle](-45,-15){5}{worker}
\cnode[style=circle](0,-15){5}{manager}
%
\rput(0,-25){Manager}
\rput(-45,-25){Worker}
%
\rput(-22,-5){\glabel{share}{share}}
\ncline[style=arrow]{<|-}{worker}{share}
\ncline[style=arrow]{-}{share}{manager}
%
\rput(-22,-15){\glabel{explore}{explore}}
\ncline[style=arrow]{<|-}{worker}{explore}
\ncline[style=arrow]{-}{explore}{manager}
%
\rput(-22,-25){\ylabel{stop}{stop}}
\ncline[style=arrow]{<|-}{worker}{stop}
\ncline[style=arrow]{-}{stop}{manager}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\interface{%
\psset{unit=1mm}
%
\cnode[style=circle](-22,-15){5}{manager}
\cnode[style=circle](22,-15){5}{worker}
%
\rput(-22,3){Manager}
\rput(22,3){Worker}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\rput(-40,0){\ylabel{register}{register}}
\ncline[style=arrow]{-|>}{register}{manager}
%
\rput(-50,-10){\glabel{find}{find}}
\ncline[style=arrow]{-|>}{find}{manager}
%
\rput(-50,-20){\glabel{collect}{collect}}
\ncline[style=arrow]{-|>}{collect}{manager}
%
\rput(-40,-30){\ylabel{log}{log}}
\ncline[style=arrow]{-|>}{log}{manager}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\rput(0,-5){\glabel{share}{share}}
\ncline[style=arrowg]{-|>}{manager}{share}
\ncline[style=arrow]{-|>}{share}{worker}
%
\rput(0,-15){\glabel{explore}{explore}}
\ncline[style=arrowg]{-|>}{manager}{explore}
\ncline[style=arrow]{-|>}{explore}{worker}
%
\rput(0,-25){\ylabel{stop}{stop}}
\ncline[style=arrowg]{-|>}{manager}{stop}
\ncline[style=arrow]{-|>}{stop}{worker}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\rput(45,0){\ylabel{register}{register2}}
\ncline[style=arrowg]{-|>}{worker}{register2}
%
\rput(45,-10){\glabel{find}{find2}}
\ncline[style=arrowg]{-|>}{worker}{find2}
%
\rput(45,-20){\glabel{collect}{collect2}}
\ncline[style=arrowg]{-|>}{worker}{collect2}
%
\rput(45,-30){\ylabel{log}{log2}}
\ncline[style=arrowg]{-|>}{worker}{log2}
%
}
